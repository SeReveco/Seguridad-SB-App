<ion-footer>
  <ion-toolbar color="primary">
    <div style="display: flex; flex-direction: row; align-items: flex-end; justify-content: center; width: 100%; gap: 1cm;">
      <div style="display: flex; flex-direction: column; align-items: center;">
        <ion-button fill="clear" routerLink="/home" style="display: flex; flex-direction: column; align-items: center;">
          <div style="display: flex; flex-direction: column; align-items: center;">
            <ion-icon name="map-outline" slot="icon-only" style="color: #fff; font-size: 32px; margin-bottom: 0px;"></ion-icon>
            <span style="font-size: 13px; color: #fff; margin-top: 2px; text-align: center; width: 100%;">Mapa</span>
          </div>
        </ion-button>
      </div>
      <div style="display: flex; flex-direction: column; align-items: center;">
        <ion-button fill="clear" routerLink="/alerta" style="display: flex; flex-direction: column; align-items: center;">
          <div style="display: flex; flex-direction: column; align-items: center;">
            <ion-icon name="megaphone-outline" slot="icon-only" style="color: #fff; font-size: 32px; margin-bottom: 0px;"></ion-icon>
            <span style="font-size: 13px; color: #fff; margin-top: 2px; text-align: center; width: 100%;">Alerta</span>
          </div>
        </ion-button>
      </div>
      <div style="display: flex; flex-direction: column; align-items: center;">
        <ion-button fill="clear" routerLink="/solicitud" style="display: flex; flex-direction: column; align-items: center;">
          <div style="display: flex; flex-direction: column; align-items: center;">
            <ion-icon name="document-text-outline" slot="icon-only" style="color: #fff; font-size: 32px; margin-bottom: 0px;"></ion-icon>
            <span style="font-size: 13px; color: #fff; margin-top: 2px; text-align: center; width: 100%;">Solicitud</span>
          </div>
        </ion-button>
      </div>
      <div style="display: flex; flex-direction: column; align-items: center;">
        <ion-button fill="clear" (click)="openMenu()" style="display: flex; flex-direction: column; align-items: center;">
          <div style="display: flex; flex-direction: column; align-items: center;">
            <ion-icon name="menu-outline" slot="icon-only" style="color: #fff; font-size: 32px; margin-bottom: 0px;"></ion-icon>
            <span style="font-size: 13px; color: #fff; margin-top: 2px; text-align: center; width: 100%;">Menú</span>
          </div>
        </ion-button>
      </div>
    </div>
  </ion-toolbar>
</ion-footer>


<ion-content id="main-content">
  <div class="page-content">
    <div id="map" style="width: 100%; height: calc(100vh - 60px); position: relative; margin-bottom: 0;"></div>
    <div class="reportar-btn-container" style="display: flex; gap: 12px; justify-content: center; align-items: center;">
      <ion-button color="primary" expand="block" class="reportar-btn" (click)="abrirFormulario()">
        <ion-icon name="megaphone-outline" slot="start"></ion-icon>
        Reportar
      </ion-button>
      <ion-button shape="round" color="primary" class="gps-btn" (click)="goToUbicacionActual()">
        <ion-icon name="locate-outline" slot="icon-only" style="color: #fff;"></ion-icon>
      </ion-button>
    </div>

   <ion-modal [isOpen]="mostrarFormulario" (didDismiss)="cerrarFormulario()">
      <ng-template>
        <div class="reportar-form-container" style="max-width: 500px; margin: 0 auto; padding: 16px; background: #fff; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
          <form (ngSubmit)="enviarAlerta()" #alertaForm="ngForm">
            
            <ion-item>
              <ion-label position="floating">Solicitante (opcional)</ion-label>
              <ion-input [(ngModel)]="solicitante" name="solicitante" placeholder="Anónimo si se deja vacío"></ion-input>
            </ion-item>

            <ion-item>
              <ion-label position="floating">Tipo de alerta</ion-label>
              <ion-textarea [(ngModel)]="tipo" name="tipo" required></ion-textarea>
            </ion-item>

            <ion-item>
              <ion-label position="floating">Descripción</ion-label>
              <ion-textarea [(ngModel)]="descripcion" name="descripcion" required></ion-textarea>
            </ion-item>
          
            <div style="display: flex; justify-content: center; margin-top: 16px;">
              <ion-button type="submit" color="primary" [disabled]="!alertaForm.form.valid">
                <ion-icon name="megaphone-outline" slot="start"></ion-icon>
                Reportar Alerta</ion-button>
              <ion-button color="medium" (click)="cerrarFormulario()" style="margin-left: 8px;">Cancelar</ion-button>
            </div>

          </form>
        </div>
      </ng-template>
    </ion-modal>
  </div>
</ion-content>

